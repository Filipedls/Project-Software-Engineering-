package dtu.projman.app;

import java.util.ArrayList;

public class Task extends Base{

	private Project project;
	private Activity activity;
	
	private int estimated_no_hours = 0;
	private int worked_no_hours = 0;
	
	private ArrayList<Employee> assignedEmployees = new ArrayList<Employee>();
	
	public Task(String name) {
		setName(name);
		state = State.NOTSTARTED;
	}

	public Project getProject() {
		return project;
	}

	public Activity getActivity() {
		return activity;
	}

	public void setProject(Project project) {
		this.project = project;
	}

	public void setActivity(Activity activity) {
		this.activity = activity;
	}
	
	public void addEmployees(Employee employee){
		assignedEmployees.add(employee);
	}
	public ArrayList<Employee> getEmployees(){
		return assignedEmployees;
	}

	/*
	 * @author Atakan Kaya
	 */
	public int getEstimated_no_hours() {
		return estimated_no_hours;
	}
	
	/*
	 * @author Atakan Kaya
	 */
	public void setEstimated_no_hours(int estimated_no_hours) {
		this.estimated_no_hours = estimated_no_hours;
	}

	/*
	 * @author Atakan Kaya
	 */
	public int getWorked_no_hours() {
		return worked_no_hours;
	}

	/*
	 * @author Atakan Kaya
	 */
	public void setWorked_no_hours(int worked_no_hours) {
		this.worked_no_hours = worked_no_hours;
	}

	
	// @author Filipe Silva
	public void setState(State taskState) throws OperationNotAllowedException {
		if(app.getEmployeeLoggedIn()!=null){
			state = taskState;
		} else {
			throw new OperationNotAllowedException("Change an activity operation is not allowed, employee is not logged in.");
		}
		
	}

}
